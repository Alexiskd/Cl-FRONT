import{Z as S,$ as w,j as e,b as s,q as i,C as b,p as m,x as d,y as v,Y as R,A as E}from"./index-6iWKD2A3.js";import{d as D}from"./Cancel-uhL9EBkS.js";import{S as I}from"./Stack-CVGlZwtP.js";var f={},z=w;Object.defineProperty(f,"__esModule",{value:!0});var C=f.default=void 0,_=z(S()),M=e;C=f.default=(0,_.default)((0,M.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");const V=()=>{const[a,u]=s.useState({name:"",email:"",message:""}),[t,x]=s.useState({name:!1,email:!1,message:!1}),[j,g]=s.useState(!1),p="https://cl-back.onrender.com",c=s.useCallback(o=>{u(r=>({...r,[o.target.name]:o.target.value}))},[]),y=s.useCallback(()=>{u({name:"",email:"",message:""}),x({name:!1,email:!1,message:!1})},[]),k=s.useCallback(async o=>{o.preventDefault();let r=!0;const l={name:!1,email:!1,message:!1};if(a.name.trim()===""&&(l.name=!0,r=!1),(a.email.trim()===""||!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(a.email))&&(l.email=!0,r=!1),a.message.trim()===""&&(l.message=!0,r=!1),x(l),!!r)try{const n=await fetch(`${p}/contact-messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(n.ok)g(!0),u({name:"",email:"",message:""});else{const F=await n.json();console.error("Erreur lors de l'envoi du message. Statut:",n.status,F)}}catch(n){console.error("Erreur lors de la soumission du formulaire",n)}},[a,p]),h=s.useCallback((o,r)=>{r!=="clickaway"&&g(!1)},[]);return e.jsxs(i,{sx:{backgroundColor:"#EDEDED",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[e.jsx(i,{sx:{height:{xs:"60px",md:"120px"},backgroundColor:"#01591f"}}),e.jsx(i,{sx:{backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",color:"#FFFFFF",py:{xs:3,md:5},textAlign:"center"},children:e.jsxs(b,{children:[e.jsx(m,{variant:"h3",gutterBottom:!0,sx:{fontFamily:"Montserrat, sans-serif",fontWeight:"700",color:"black"},children:"Contactez-nous"}),e.jsx(m,{variant:"subtitle1",sx:{fontFamily:"Roboto, sans-serif",maxWidth:"600px",mx:"auto",color:"black"},children:"Nous sommes là pour répondre à toutes vos questions. Remplissez le formulaire ci-dessous et nous vous répondrons rapidement."})]})}),e.jsx(b,{sx:{py:2,display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsxs(i,{component:"form",onSubmit:k,sx:{backgroundColor:"#FFFFFF",p:5,borderRadius:2,boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center",maxWidth:"600px",width:"100%"},children:[e.jsx(m,{variant:"h5",sx:{fontFamily:"Roboto, sans-serif",fontWeight:"600",mb:.5},children:"Formulaire de Contact"}),e.jsx(d,{label:"Nom",name:"name",value:a.name,onChange:c,fullWidth:!0,margin:"normal",variant:"filled",error:t.name,helperText:t.name&&"Veuillez entrer votre nom.",sx:{"& .MuiFilledInput-root":{backgroundColor:"#f5f5f5"},borderRadius:1}}),e.jsx(d,{label:"Email",name:"email",type:"email",value:a.email,onChange:c,fullWidth:!0,margin:"normal",variant:"filled",error:t.email,helperText:t.email&&"Veuillez entrer un email valide.",sx:{"& .MuiFilledInput-root":{backgroundColor:"#f5f5f5"},borderRadius:1}}),e.jsx(d,{label:"Message",name:"message",value:a.message,onChange:c,fullWidth:!0,margin:"normal",variant:"filled",multiline:!0,rows:4,error:t.message,helperText:t.message&&"Veuillez entrer votre message.",sx:{"& .MuiFilledInput-root":{backgroundColor:"#f5f5f5"},borderRadius:1}}),e.jsxs(I,{direction:"row",spacing:2,justifyContent:"center",sx:{mt:4},children:[e.jsx(v,{type:"submit",variant:"contained",endIcon:e.jsx(C,{}),sx:{bgcolor:"#025920","&:hover":{bgcolor:"#024514"},px:3},children:"Envoyer"}),e.jsx(v,{variant:"outlined",startIcon:e.jsx(D,{}),onClick:y,sx:{color:"#025920",borderColor:"#025920","&:hover":{borderColor:"#024514",color:"#024514"},px:3},children:"Annuler"})]})]})}),e.jsx(R,{open:j,autoHideDuration:6e3,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(E,{onClose:h,severity:"success",sx:{width:"100%"},children:"Votre message a été envoyé avec succès !"})})]})};export{V as default};
